<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de bord - MediConnect</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css.css">
</head>
<body>
    <!-- Toast notifications container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-heartbeat"></i>
                    </div>
                    <div class="logo-text">Eco-Santé</div>
                </div>
                <nav>
                    <ul>
                        <li><a href="index.html">Accueil</a></li>
                        <li><a href="index.html#about">À propos</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Interface après connexion -->
    <div class="dashboard container">
        <div class="dashboard-header">
            <h2>MediConnect - Espace Professionnel</h2>
            <div class="user-info">
                <div class="user-avatar" id="user-avatar">JD</div>
                <span id="user-name">Dr. Julien Dupont</span>
                <a href="#" style="margin-left: 15px;" id="logout-btn">Déconnexion</a>
            </div>
        </div>

        <nav class="dashboard-nav">
            <a href="#" class="nav-link active" data-section="accueil-dash">
                <i class="fas fa-home"></i> Accueil
            </a>
            <a href="#" class="nav-link" data-section="horaire-planning">
                <i class="fas fa-clock"></i> Horaire Planning
            </a>
            <a href="#" class="nav-link" data-section="notifications">
                <i class="fas fa-bell"></i> Notifications
            </a>
            <a href="#" class="nav-link" data-section="ordonnances">
                <i class="fas fa-file-prescription"></i> Ordonnances
            </a>
            <a href="#" class="nav-link" data-section="consultation">
                <i class="fas fa-stethoscope"></i> Consultation
            </a>
            <a href="#" class="nav-link" data-section="profil">
                <i class="fas fa-user"></i> Profil
            </a>
        </nav>

        <!-- Section Accueil du dashboard -->
        <section id="accueil-dash" class="dashboard-section active">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Bienvenue sur MediConnect</h3>
                </div>
                <p>Vous avez <strong>3 consultations</strong> prévues aujourd'hui.</p>
                <p>Votre prochain rendez-vous est à <strong>14h30</strong> avec M. Martin.</p>
            </div>

            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Statistiques du mois</h3>
                </div>
                <p>Consultations réalisées: <strong>42</strong></p>
                <p>Nouveaux patients: <strong>12</strong></p>
                <p>Ordonnances délivrées: <strong>38</strong></p>
            </div>
        </section>

        <!-- Section Horaire Planning -->
        <section id="horaire-planning" class="dashboard-section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Gestion des horaires</h3>
                </div>
                <p>Définissez vos plages horaires de disponibilité pour les consultations.</p>
                <div class="form-group">
                    <label>Lundi</label>
                    <input type="text" placeholder="09:00 - 12:00, 14:00 - 18:00">
                </div>
                <div class="form-group">
                    <label>Mardi</label>
                    <input type="text" placeholder="09:00 - 12:00, 14:00 - 18:00">
                </div>
                <div class="form-group">
                    <label>Mercredi</label>
                    <input type="text" placeholder="09:00 - 12:00">
                </div>
                <div class="form-group">
                    <label>Jeudi</label>
                    <input type="text" placeholder="09:00 - 12:00, 14:00 - 18:00">
                </div>
                <div class="form-group">
                    <label>Vendredi</label>
                    <input type="text" placeholder="09:00 - 12:00, 14:00 - 17:00">
                </div>
                <button class="btn">Enregistrer les horaires</button>
            </div>
        </section>

        <!-- Section Notifications -->
        <section id="notifications" class="dashboard-section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Notifications</h3>
                </div>
                <div style="max-height: 400px; overflow-y: auto;">
                    <div style="padding: 16px; border-bottom: 1px solid #e9ecef;">
                        <p><strong>Nouveau rendez-vous</strong> - M. Martin à 14:30 aujourd'hui</p>
                        <small style="color: #6c757d;">Il y a 10 minutes</small>
                    </div>
                    <div style="padding: 16px; border-bottom: 1px solid #e9ecef;">
                        <p><strong>Rappel</strong> - Formation continue le 15/11/2023</p>
                        <small style="color: #6c757d;">Hier</small>
                    </div>
                    <div style="padding: 16px; border-bottom: 1px solid #e9ecef;">
                        <p><strong>Annulation</strong> - Mme. Dubois a annulé son rendez-vous</p>
                        <small style="color: #6c757d;">Il y a 2 jours</small>
                    </div>
                    <div style="padding: 16px; border-bottom: 1px solid #e9ecef;">
                        <p><strong>Nouveau message</strong> - Vous avez reçu un message d'un patient</p>
                        <small style="color: #6c757d;">Il y a 3 jours</small>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section Ordonnances -->
        <section id="ordonnances" class="dashboard-section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Gestion des ordonnances</h3>
                </div>
                <div class="form-group">
                    <label for="patient">Patient</label>
                    <select id="patient">
                        <option>M. Martin</option>
                        <option>Mme. Dubois</option>
                        <option>M. Petit</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="medicament">Médicament</label>
                    <input type="text" id="medicament" placeholder="Nom du médicament">
                </div>
                <div class="form-group">
                    <label for="posologie">Posologie</label>
                    <input type="text" id="posologie" placeholder="1 comprimé, 2 fois par jour">
                </div>
                <div class="form-group">
                    <label for="duree">Durée du traitement</label>
                    <input type="text" id="duree" placeholder="7 jours">
                </div>
                <button class="btn">Générer l'ordonnance</button>
            </div>
        </section>

        <!-- Section Consultation -->
        <section id="consultation" class="dashboard-section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Consultations à venir</h3>
                </div>
                <div style="overflow-x: auto;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background-color: #f8f9fa;">
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e9ecef;">Date/Heure</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e9ecef;">Patient</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e9ecef;">Type</th>
                                <th style="padding: 12px; text-align: left; border-bottom: 1px solid #e9ecef;">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Aujourd'hui, 14:30</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">M. Martin</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Consultation</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">
                                    <button class="btn" style="padding: 8px 16px; font-size: 0.9rem;">Démarrer</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Demain, 09:00</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Mme. Dubois</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Suivi</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">
                                    <button class="btn" style="padding: 8px 16px; font-size: 0.9rem;">Démarrer</button>
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">12/11/2023, 11:00</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">M. Petit</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">Première consultation</td>
                                <td style="padding: 12px; border-bottom: 1px solid #e9ecef;">
                                    <button class="btn" style="padding: 8px 16px; font-size: 0.9rem;">Démarrer</button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Section Profil - AFFICHAGE DES DONNÉES D'INSCRIPTION -->
        <section id="profil" class="dashboard-section">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Informations personnelles</h3>
                </div>
                <div class="form-group">
                    <label for="profile-name">Nom complet</label>
                    <input type="text" id="profile-name" value="Dr. Julien Dupont">
                </div>
                <div class="form-group">
                    <label for="profile-email">Email</label>
                    <input type="email" id="profile-email" value="j.dupont@mediconnect.fr">
                </div>
                <div class="form-group">
                    <label for="profile-specialite">Spécialité</label>
                    <input type="text" id="profile-specialite" value="Médecin généraliste">
                </div>
                <div class="form-group">
                    <label for="profile-phone">Téléphone</label>
                    <input type="tel" id="profile-phone" value="01 23 45 67 89">
                </div>
                <div class="form-group">
                    <label for="profile-type">Type de compte</label>
                    <input type="text" id="profile-type" value="Médecin" disabled>
                </div>
                <div class="form-group">
                    <label for="profile-bio">Biographie</label>
                    <textarea id="profile-bio" rows="4">Médecin généraliste avec 10 ans d'expérience, spécialisé dans la téléconsultation.</textarea>
                </div>
                <button class="btn" id="save-profile-btn">Enregistrer les modifications</button>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>MediConnect</h3>
                    <p>Plateforme de téléconsultation médicale pour des soins accessibles à tous.</p>
                </div>
                <div class="footer-section">
                    <h3>Liens rapides</h3>
                    <a href="index.html">Accueil</a>
                    <a href="index.html#about">À propos</a>
                    <a href="#">Contact</a>
                </div>
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>contact@mediconnect.fr</p>
                    <p>+33 1 23 45 67 89</p>
                    <p>123 Avenue de la Santé, Paris</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 MediConnect. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script src="java.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Vérifier si l'utilisateur est connecté
            redirectIfNotLoggedIn();
            
            // Mettre à jour l'affichage du profil
            updateProfileDisplay(currentUser);
            
            // Initialiser la navigation du dashboard
            initDashboardNavigation();
            
            // Enregistrement des modifications du profil
            document.getElementById('save-profile-btn').addEventListener('click', function() {
                if (currentUser) {
                    // Mettre à jour les informations de l'utilisateur
                    currentUser.fullname = document.getElementById('profile-name').value;
                    currentUser.email = document.getElementById('profile-email').value;
                    currentUser.specialite = document.getElementById('profile-specialite').value;
                    currentUser.phone = document.getElementById('profile-phone').value;
                    
                    // Mettre à jour le stockage local
                    const userIndex = userAccounts.findIndex(user => user.email === currentUser.email);
                    if (userIndex !== -1) {
                        userAccounts[userIndex] = currentUser;
                        localStorage.setItem('mediconnect_users', JSON.stringify(userAccounts));
                        localStorage.setItem('mediconnect_current_user', JSON.stringify(currentUser));
                    }
                    
                    // Mettre à jour l'affichage
                    updateProfileDisplay(currentUser);
                    showToast('success', 'Profil mis à jour', 'Vos modifications ont été enregistrées');
                }
            });
            
            // Déconnexion
            document.getElementById('logout-btn').addEventListener('click', function(e) {
                e.preventDefault();
                localStorage.removeItem('mediconnect_current_user');
                currentUser = null;
                
                showToast('info', 'Déconnexion', 'Redirection vers la page d\'accueil...');
                
                // Redirection vers la page d'accueil
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 1500);
            });
        });
    </script>
</body>
</html>