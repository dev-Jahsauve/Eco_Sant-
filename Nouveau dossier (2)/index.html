<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Éco-Santé — Maquette Front</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uW6bB547A13A49D38D3D866504a434B19F58D3398D80D1D23D57F60A3F1F56D23C2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo">ÉS</div>
        <div class="brand-name">Éco-Santé</div>
      </div>
      <button class="hamburger btn ghost small" id="btnHamburger">☰ Menu</button>
      <nav class="menu" id="mainMenu">
        <a href="#landing" class="nav-link"><i class="fa-solid fa-house"></i> Accueil</a>
        <a href="#booking" class="nav-link require-auth patient-only"><i class="fa-solid fa-calendar-plus"></i> Prendre RDV</a>
        <a href="#dashboard-patient" class="nav-link require-auth patient-only"><i class="fa-solid fa-gauge-high"></i> Tableau de bord</a>
        <a href="#dashboard-practitioner" class="nav-link require-auth practitioner-only"><i class="fa-solid fa-user-doctor"></i> Espace soignant</a>
        <a href="#consultation" class="nav-link require-auth"><i class="fa-solid fa-video"></i> Consultation</a>
        <a href="#profile" class="nav-link require-auth"><i class="fa-solid fa-user"></i> Mon profil</a>
      </nav>
      <div class="auth">
        <span id="whoami" class="pill" style="display:none"></span>
        <button class="btn small" id="btnLogin" data-view="auth">Connexion</button>
        <button class="btn ghost small" id="btnLogout" >Déconnexion</button>
      </div>
    </div>
  </header>

  <main>
    <section id="landing" class="view active">
      <div class="hero">
        <div>
          <h1>La téléconsultation qui unit <span style="color:var(--green)">nature</span> & <span style="color:var(--azure)">médecine moderne</span>.</h1>
          <p>Consulte un <b>médecin</b> pour le diagnostic, puis un <b>naturopathe</b> pour l’accompagnement en phytothérapie, nutrition et gestion du stress — sur une plateforme simple, sécurisée, et accessible.</p>
          <div class="cta-row">
            <a href="#auth" class="btn"><i class="fa-solid fa-user-doctor"></i> Consulter un Médecin</a>
            <a href="#auth" class="btn secondary"><i class="fa-solid fa-leaf"></i> Consulter un Naturopathe</a>
            <a href="#landing-info" class="btn ghost">En savoir plus</a>
          </div>
        </div>
      </div>

      <div class="grid cols-3" style="margin-top:1rem">
        <div class="card">
          <div class="kpi"><span class="dot"></span><b>Simple</b></div>
          <p>Inscription en quelques clics, prise de rendez-vous instantanée, vidéo fluide en HD.</p>
        </div>
        <div class="card">
          <div class="kpi"><span class="dot" style="background:var(--azure)"></span><b>Sécurisé</b></div>
          <p>Comptes protégés, données chiffrées, ordonnances électroniques sécurisées.</p>
        </div>
        <div class="card">
          <div class="kpi"><span class="dot" style="background:var(--green)"></span><b>Holistique</b></div>
          <p>Médecine générale + naturopathie, pour une vision globale de la santé.</p>
        </div>
      </div>
    </section>

    <section id="auth" class="view">
      <div class="grid cols-2">
        <div class="card">
          <h2><i class="fa-solid fa-arrow-right-to-bracket"></i> Connexion / Inscription</h2>
          <p class="badge"><i class="fa-solid fa-circle-info"></i> Un seul formulaire • Choisis ton rôle</p>
          <form id="authForm">
            <div class="field">
              <label>Nom complet</label>
              <input type="text" id="fullName" placeholder="Ex. Kengni Ranelle" required>
            </div>
            <div class="field">
              <label>Email</label>
              <input type="email" id="email" placeholder="exemple@email.com" required>
            </div>
            <div class="field">
              <label>Téléphone</label>
              <input type="tel" id="phone" placeholder="+237 ..." required>
            </div>
            <div class="field">
              <label>Mot de passe</label>
              <input type="password" id="password" placeholder="••••••••" required minlength="6">
            </div>
            <div class="field">
              <label>Rôle</label>
              <select id="role" required>
                <option value="" disabled selected>— Choisir —</option>
                <option value="patient">Patient</option>
                <option value="medecin">Médecin</option>
                <option value="naturopathe">Naturopathe</option>
              </select>
            </div>
            <div class="field practitioner-only" style="display:none">
              <label>Spécialité (soignants)</label>
              <input type="text" id="specialty" placeholder="Ex. Généraliste, Nutrition, Phytothérapie…">
            </div>
            <div class="field">
              <button class="btn" type="submit"><i class="fa-solid fa-right-to-bracket"></i> Entrer</button>
              <button class="btn ghost" type="reset">Réinitialiser</button>
            </div>
            <p class="alert warn"><i class="fa-solid fa-triangle-exclamation"></i> Démonstration locale : aucune donnée n’est envoyée. (LocalStorage)</p>
          </form>
        </div>
        <div class="card">
          <h3>Pourquoi créer un compte ?</h3>
          <ul>
            <li>Prendre un rendez-vous en 30 secondes</li>
            <li>Recevoir tes ordonnances électroniques</li>
            <li>Historique et documents centralisés</li>
          </ul>
          <p class="pill">Besoin d’aide ? Contact : support@eco-sante.demo</p>
        </div>
      </div>
    </section>

    <section id="dashboard-patient" class="view">
      <div class="topbar">
        <h2><i class="fa-solid fa-gauge-high"></i> Tableau de bord — Patient</h2>
        <div class="chips">
          <a href="#booking" class="btn small">Prendre RDV</a>
          <a href="#profile" class="btn ghost small">Mon profil</a>
        </div>
      </div>
      <div class="grid cols-2">
        <div class="card">
          <h3><i class="fa-solid fa-calendar-check"></i> Mes prochains rendez-vous</h3>
          <table class="table" id="tblPatientUpcoming">
            <thead><tr><th>Date</th><th>Heure</th><th>Praticien</th><th>Type</th><th>Statut</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card">
          <h3><i class="fa-solid fa-prescription-bottle-medical"></i> Mes ordonnances</h3>
          <div id="patientPrescriptions">Aucune ordonnance pour le moment.</div>
        </div>
      </div>
    </section>

    <section id="dashboard-practitioner" class="view">
      <div class="topbar">
        <h2><i class="fa-solid fa-user-doctor"></i> Espace Soignant — Médecin / Naturopathe</h2>
        <div class="chips">
          <span class="pill">Historique • Consultations • Paramètres</span>
        </div>
      </div>
      <div class="grid cols-2">
        <div class="card">
          <h3><i class="fa-solid fa-handshake"></i> Demandes de rendez-vous (à traiter)</h3>
          <table class="table" id="tblRequests">
            <thead><tr><th>Patient</th><th>Date</th><th>Heure</th><th>Motif</th><th>Actions</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card">
          <h3><i class="fa-solid fa-video"></i> Mes consultations à venir</h3>
          <table class="table" id="tblPractUpcoming">
            <thead><tr><th>Patient</th><th>Date</th><th>Heure</th><th>Lien</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="booking" class="view">
      <div class="grid cols-2">
        <div class="card">
          <h2><i class="fa-solid fa-calendar-plus"></i> Prendre un rendez-vous</h2>
          <form id="formBooking">
            <div class="field">
              <label>Type de praticien</label>
              <select id="bkType" required>
                <option value="" disabled selected>— Sélectionner —</option>
                <option value="medecin">Médecin</option>
                <option value="naturopathe">Naturopathe</option>
              </select>
            </div>
            <div class="field">
              <label>Date</label>
              <input type="date" id="bkDate" required>
            </div>
            <div class="field">
              <label>Heure</label>
              <input type="time" id="bkTime" required>
            </div>
            <div class="field">
              <label>Motif</label>
              <textarea id="bkReason" rows="3" placeholder="Décris brièvement le problème..." required></textarea>
            </div>
            <button class="btn" type="submit"><i class="fa-solid fa-paper-plane"></i> Envoyer la demande</button>
            <p id="bkMsg" style="margin-top:.7rem"></p>
          </form>
        </div>
        <div class="card">
          <h3><i class="fa-solid fa-clipboard-list"></i> Résumé</h3>
          <p>Vérifie les informations avant validation. Le praticien recevra une notification et <b>acceptera</b> ou <b>refusera</b> le créneau.</p>
          <ul id="bkSummary"></ul>
        </div>
      </div>
    </section>

    <section id="consultation" class="view">
      <div class="topbar">
        <h2><i class="fa-solid fa-video"></i> Consultation en ligne</h2>
        <div class="chips">
          <span class="pill"><i class="fa-solid fa-video"></i> Qualité HD (démo)</span>
          <span class="pill"><i class="fa-solid fa-comments"></i> Chat & Fichiers</span>
        </div>
      </div>

      <div class="alert warn" id="consAlert"><i class="fa-solid fa-triangle-exclamation"></i> Sélectionne une consultation <b>confirmée</b> depuis ton tableau de bord pour démarrer.</div>

      <div class="grid cols-2">
        <div class="card">
          <h3><i class="fa-solid fa-calendar-days"></i> Mes consultations confirmées</h3>
          <table class="table" id="tblConfirmed">
            <thead><tr><th>Avec</th><th>Date</th><th>Heure</th><th>Action</th></tr></thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="card">
          <h3><i class="fa-solid fa-gears"></i> Paramètres rapides</h3>
          <p>Astuce : en prod, le <b>lien vidéo sécurisé</b> est généré à l’acceptation du RDV.</p>
          <p id="linkPreview"></p>
        </div>
      </div>

      <div class="consult-layout" style="margin-top:1rem;display:none" id="liveConsult">
        <div class="video" id="videoBox">
          <button class="btn secondary" id="btnToggleCam" style="position:absolute;top:10px;left:10px"><i class="fa-solid fa-camera"></i> Caméra</button>
          <button class="btn ghost" id="btnEnd" style="position:absolute;top:10px;right:10px"><i class="fa-solid fa-xmark"></i> Terminer</button>
        </div>
        <div class="card chat">
          <div class="chat-log" id="chatLog"></div>
          <div>
            <label><i class="fa-solid fa-file-arrow-up"></i> Fichiers (images, PDF) — démo locale</label>
            <input type="file" id="fileInput" multiple>
            <div id="fileList" style="margin-top:.4rem;color:var(--gray-700)"></div>
          </div>
          <div style="display:flex;gap:.4rem">
            <input id="chatInput" placeholder="Écrire un message…" />
            <button class="btn" id="btnSend"><i class="fa-solid fa-paper-plane"></i> Envoyer</button>
          </div>
          <div class="field">
            <label><i class="fa-solid fa-notes-medical"></i> Notes du soignant</label>
            <textarea id="noteMed" rows="3" placeholder="Diagnostic, recommandations…"></textarea>
          </div>
          <button class="btn secondary" id="btnPrescription"><i class="fa-solid fa-file-medical"></i> Générer une ordonnance (démo)</button>
          <div id="rxStatus" style="margin-top:.5rem"></div>
        </div>
      </div>
    </section>

    <section id="profile" class="view">
      <div class="grid cols-2">
        <div class="card profile-card">
          <h2><i class="fa-solid fa-user"></i> Mon profil</h2>
          <div class="field"><label>Nom complet</label><input id="pfName" disabled></div>
          <div class="field"><label>Email</label><input id="pfEmail" type="email" disabled></div>
          <div class="field"><label>Téléphone</label><input id="pfPhone" type="tel" disabled></div>
          <div class="field"><label>Rôle</label><input id="pfRole" disabled></div>
          <div class="field pf-spec"><label>Spécialité (soignant)</label><input id="pfSpec" placeholder="Ex. Généraliste / Nutrition…" disabled></div>
          <div class="field"><label>Photo de profil (URL — démo)</label><input id="pfPhoto" placeholder="https://…" disabled></div>
          <div class="field profile-buttons">
            <button class="btn" id="btnEditProfile"><i class="fa-solid fa-pen-to-square"></i> Modifier</button>
            <button class="btn secondary" id="btnSaveProfile" style="display:none"><i class="fa-solid fa-floppy-disk"></i> Enregistrer</button>
            <button class="btn ghost" id="btnCancelProfile" style="display:none">Annuler</button>
            <span id="pfMsg" class="pill" style="margin-left:.6rem;display:none"></span>
          </div>
        </div>
        <div class="card">
          <h3><i class="fa-solid fa-lock"></i> Changer mon mot de passe</h3>
          <div class="field"><label>Nouveau mot de passe</label><input id="pfPwd1" type="password"></div>
          <div class="field"><label>Confirmer</label><input id="pfPwd2" type="password"></div>
          <button class="btn ghost" id="btnChangePwd">Mettre à jour</button>
          <div id="pwdMsg" style="margin-top:.6rem"></div>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="foot">
      <div>© 2025 Éco-Santé • Tous droits réservés</div>
      <div class="chips">
        <a href="#" class="pill">Contact</a>
        <a href="#" class="pill">CGU</a>
        <a href="#" class="pill">Aide</a>
      </div>
    </div>

  <script src="./java/script.js"></script>
  </footer>
</body>
</html>